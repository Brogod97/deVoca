<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>
<comment>voca-sql.xml</comment>

	<!-- 카테고리 전체 조회 -->
	<entry key ="selectCategoryAll">
		select category_no, member_no, category_title 
		from category 
		where member_no = ?
		order by category_no

	</entry>
	
	<!-- 회원 전체 조회 -->
	<entry key="selectMemberAll">
		select member_no, member_nick, user_img
		from member
		where secession_fl = 'n'
	</entry>
	
	<!-- 단어 전체 조회 -->
	<entry key="selectWordAll">
		select word_no, word_title, word_df, checked, favorite , quiz 
		from word
		join category c using(category_no)
		where member_no = ?
		and category_no = ?
		order by create_date
	</entry>
	
	<!-- 단어 상세조회  -->
	<entry key ="selectWordOne">
		select word_title, word_df, word_memo, code_block
		from word
		where word_no = ?
	</entry>
	
	<entry key ="searchUser">
		select member_no, member_nick, user_img 
		from `member` m 
		where member_nick like ?
	</entry>

	<!-- 카테고리 추가 -->
	<entry key="insertCategory">
		insert into category  
		values(null, ?, ?)
	</entry>
	
	
	
	<!-- 단어 추가 -->
	<entry key="insertWord">
		insert into word 
		values(null, ?, ?, ?, ?, ?, default, default, default, default)		
	</entry>
	
	<!-- 단어 업데이트 -->
	<entry key="updateWord">
		update word set 
		word_title = ?,
		word_df = ?,
		word_memo = ?,
		code_block = ?
		where word_no ?
	</entry>
	
	<!-- 단어삭제 -->
	<entry key="deleteWord">
		delete from word 
		where word_no ?
	</entry>
	
	<!-- 카테고리 삭제 -->
	<entry key="deleteCategory">
		delete from category 
		where category_no = ?		
	</entry>
	
	<!-- 즐겨찾기한 단어 조회 -->
	<entry key="selectWordFavorite">
		select member_no, category_no , word_no , word_title , word_df , word_memo , code_block 
		, create_date , checked , favorite , quiz 
		from word w
		join category c using (category_no)
		where member_no = ?
		and category_no = ?
		and favorite = 'y'
	</entry>
	
	<!-- 체크한 단어 조회 -->
	<entry key="selectWordChecked">
		select member_no, category_no , word_no , word_title , word_df , word_memo , code_block 
		, create_date , checked , favorite , quiz 
		from word w
		join category c using (category_no)
		where member_no = ?
		and category_no = ?
		and checked  = 'y'
	</entry>
	
	<!-- 체크안한 단어 조회 -->
	<entry key="selectWordUnchecked">
		select member_no, category_no , word_no , word_title , word_df , word_memo , code_block 
		, create_date , checked , favorite , quiz 
		from word w
		join category c using (category_no)
		where member_no = ?
		and category_no = ?
		and checked  = 'n'
	</entry>
	
	
	<!-- 단어 즐겨찾기  -->
	<entry key="updateFavorite">
		update word set 
		favorite = ?
		where word_no = ?
	</entry>
	
	<!-- 단어 체크  -->
	<entry key="updateChecked">
		update word set 
		checked = ?
		where word_no = ?
	</entry>
	
	<!-- QuizOx 결과 업데이트  -->
	<entry key="updateQuizOx">
		update word set 
		quiz = ?
		where word_no = ?
	</entry>
	
	<!-- 단어 검색 -->
	<entry key="searchWord">
		select word_no, word_title
		from word w 
		join category c using(category_no)
		where member_no = ?
		and word_title like ?
	</entry>
	
	<!-- 저장된 단어 수 조회 -->
	<entry key="selectTotalCount">
		select count(*)
		from word
		where category_no = ?
	</entry>
	
	<!-- quiz가 O인 단어 수 조회 -->
	<entry key="selectCorrectCount">
		select count(*)
		from word w 
		where category_no = ?
		and quiz = 'o';
	</entry>
	
	<!-- quiz가 X인 단어 전체 조회 -->
	<entry key="selectWrongWordAll">
		select word_no , word_title , word_df , checked , favorite , quiz 
		from word w 
		where category_no = ?
		and quiz = 'x'
		order by create_date 
	</entry>
</properties>
